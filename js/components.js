class LabelFormatter{constructor(t){this.content=t}trim(){return this.content=this.content.trim(),this}escapeHTML(){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"};return this.content=this.content.replace(/[&<>"'`]/g,(e=>t[e])),this}addNoBreakingSpace(){return this.content=this.content.replace(/(\s)([:;!?])/g,"&nbsp;$2"),this}convertOneTag(t,e){const n=new RegExp(`\\[${t}\\]`,"g"),o=new RegExp(`\\[\\/${t}\\]`,"g");return this.content=this.content.replace(n,`<span class="${e}">`),this.content=this.content.replace(o,"</span>"),this}convertAllTags(){const t={strong:"strong",italics:"italics",underline:"underline"};for(const[e,n]of Object.entries(t))this.convertOneTag(e,n);return this}createParagraphElement(){const t=this.content.startsWith("-")?"p-list":"";return this.content=`<p class="${t}">${this.content}</p>`,this}createCodeElement(t){return this.content=`\n        <div class="code-block position-relative rounded" title="Cliquez pour copier" id="code-block-${t}">\n            <pre style="background-color:inherit"><code>${this.content}</code></pre>\n        </div>`,this}get(){return this.content}}class Accordion{constructor(t,e){this.container=document.getElementById(t),this.jsonUrl=e,this.data=null}async init(){await this.loadJSON(),this.renderAccordion()}async loadJSON(){try{const t=await fetch(this.jsonUrl);this.data=await t.json()}catch(t){console.error("Erreur de chargement du JSON:",t)}}renderAccordion(){this.data&&this.data.sections&&this.data.sections.forEach(((t,e)=>{const n=new AccordionSection(t,e);this.container.appendChild(n.renderSection())}))}}class AccordionSection{constructor(t,e){this.section=t,this.sectionIndex=e}renderSection(){const t=document.createElement("div");return t.classList.add("mb-4"),t.innerHTML=this.getSectionHTML(),this.populateInnerAccordion(t),t}getSectionHTML(){return`\n            <div>\n                <h2 class="background accordion-header h2 bg-success p-2 text-white" \n                    id="headingSection${this.sectionIndex}" \n                    data-bs-toggle="collapse" \n                    data-bs-target="#innerAccordion${this.sectionIndex}" \n                    aria-expanded="false" \n                    aria-controls="innerAccordion${this.sectionIndex}">\n                    ${this.section.title}\n                </h2>\n                <div>\n                    <div class="accordion rounded-bottom collapse" \n                        id="innerAccordion${this.sectionIndex}">\n                    </div>\n                </div>\n            </div>\n        `}populateInnerAccordion(t){const e=t.querySelector(`#innerAccordion${this.sectionIndex}`);this.section.items.forEach(((t,n)=>{const o=new AccordionItem(t,this.sectionIndex,n);e.appendChild(o.renderItem())}))}}class AccordionItem{constructor(t,e,n){this.itemData=t,this.sectionIndex=e,this.itemIndex=n}renderItem(){const t=document.createElement("div");t.classList.add("accordion-item");const e=`collapseItem${this.sectionIndex}${this.itemIndex}`,n=this.sanitizeTitle(this.itemData.title);return t.innerHTML=this.getItemHTML(e,n),t}getItemHTML(t,e){return`\n            <h3 class="accordion-header" id="headingItem${this.sectionIndex}${this.itemIndex}">\n                <button\n                    class="background accordion-button collapsed bg-success text-dark bg-opacity-50 border" \n                    type="button" \n                    data-bs-toggle="collapse" \n                    data-bs-target="#${t}" \n                    aria-expanded="false" \n                    aria-controls="${t}">\n                    ${e}\n                </button>\n            </h3>\n            <div id="${t}" class="accordion-collapse collapse" \n                aria-labelledby="headingItem${this.sectionIndex}${this.itemIndex}" \n                id="#innerAccordion${this.sectionIndex}">\n                <div class="background accordion-body bg-success p-2 text-dark bg-opacity-10 pb-3">\n                    ${this.generateCommandHTML(this.itemData.commands)}\n                </div>\n            </div>\n        `}sanitizeTitle(t){const e=new LabelFormatter(t);return e.trim(),e.escapeHTML(),e.addNoBreakingSpace(),e.get()}generateCommandHTML(t){return t.map(((t,e)=>`\n                ${t.label?this.sanitizeLabels(t.label):""}\n                ${t.code?this.sanitizeCode(t.code,e):""}\n            `)).join("")}sanitizeCode(t,e){Array.isArray(t)&&(t=t.join("\n"));const n=new LabelFormatter(t);n.escapeHTML(),n.createCodeElement(`${this.sectionIndex}-${e}`);return n.get()}sanitizeLabels(t){const e=Array.isArray(t)?t:[t];let n="";return e.forEach((t=>{const e=new LabelFormatter(t);e.trim(),e.escapeHTML(),e.addNoBreakingSpace(),e.convertAllTags(),e.createParagraphElement(),n+=e.get()})),n}}function createHomeButton(){const t=document.createElement("div");return t.className="home-button-container",t.innerHTML='\n        <a href="../index.html" class="background button-common home-button">\n            <i class="bi bi-house-fill"></i>\n        </a>\n    ',t}function createGroupButton(){const t=document.createElement("div");return t.className="group-button-container",t.innerHTML='\n        <button class="background button-common group-button" id="all-close">\n            <i class="bi bi-arrows-collapse"></i>\n        </button>\n    ',t}function createContent(t){let e="";""!==t.image&&(e=`<img src="${t.image}" class="card-img-top" alt="${t.title}">`);const n=document.createElement("div");return n.className="card-body d-flex flex-column mt-5 mb-5",n.innerHTML=`\n        <h1 class="text-center mb-4">Documentation ${t.title}</h1>\n        ${e}\n        <p>${t.description}</p>\n        <p>${t.details}</p>\n        <p>${t.usage}</p>\n    `,n}function createContentAccordion(){const t=document.createElement("div");return t.id="accordion-container",t}function initializeClose(){const t=document.getElementById("all-close");t?t.addEventListener("click",(()=>{document.querySelectorAll(".accordion-collapse.show").forEach((t=>{const e=bootstrap.Collapse.getInstance(t);e?e.hide():console.warn("Instance Collapse non trouvée pour l'élément",t)}))})):console.warn("Le bouton 'all-close' n'a pas été trouvé.")}async function initializeContent(t){const e=document.createElement("div");e.className="container my-5";const n=createHomeButton(),o=createGroupButton();e.appendChild(n),e.appendChild(o),await fetch("../json/data.json").then((t=>t.json())).then((n=>{const o=n[t];e.appendChild(createContent(o)),e.appendChild(createContentAccordion()),document.querySelector("body").appendChild(e)})).catch((t=>console.error("Erreur lors du chargement des données:",t)));new Accordion("accordion-container",`../json/${t}.json`).init(),initializeClose()}